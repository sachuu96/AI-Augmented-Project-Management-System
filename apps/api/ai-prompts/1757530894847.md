<shared event aggregation code with AI agent>
offload the CPU heavy analysis aggregation to a dedicated worker thread to improve the performance of the main thread. Scaffold the code for it